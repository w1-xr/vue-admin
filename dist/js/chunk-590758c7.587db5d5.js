(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-590758c7"],{a55b:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-form"},[t._m(0),r("div",{staticStyle:{color:"#91949c","font-weight":"bolder"}},[r("p",[t._v("Username")]),r("el-input",{staticClass:"login-form-input",attrs:{placeholder:"账 号"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t.usernameError?r("el-alert",{attrs:{title:"请您输入不少于6位的用户名",type:"error","show-icon":""}}):t._e(),r("p",[t._v("Password")]),r("el-input",{staticClass:"login-form-input",attrs:{placeholder:"密 码","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.passwordError?r("el-alert",{attrs:{title:"请您输入不少于6位的密码",type:"error","show-icon":""}}):t._e(),r("p",[t._v("Role")]),r("el-select",{staticClass:"login-form-input",staticStyle:{width:"100%"},attrs:{placeholder:"请选择你的身份"},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}},[r("el-option",{attrs:{label:"系统管理员",value:"admin"}}),r("el-option",{attrs:{label:"工作人员",value:"worker"}})],1),t.roleError?r("el-alert",{attrs:{title:"请您选择登入的身份",type:"error","show-icon":""}}):t._e(),r("div",{staticStyle:{"padding-top":"10px"}},[r("el-checkbox",{model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}},[t._v("记住密码")]),r("div",{staticStyle:{float:"right"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"请联系管理员修改",placement:"bottom"}},[r("el-link",{staticStyle:{"font-weight":"bolder","font-size":"14px",color:"#91949c"},attrs:{underline:!1}},[t._v(" 忘记密码? ")])],1)],1)],1),r("el-button",{staticClass:"login-form-button",attrs:{loading:t.loading,type:"primary"},on:{click:t.postLogin}},[t._v("SIGN IN ")])],1),r("div",{staticClass:"login-form-footer"},[r("div",{staticStyle:{"font-weight":"bolder","font-size":"16px",color:"#91949c"},attrs:{underline:!1}},[t._v(" Copyright 2021 小小影院 - 后台管理 ")])])])])},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-form-header"},[o("img",{staticStyle:{width:"75px",height:"75px",float:"left","padding-right":"30px"},attrs:{src:r("4ffd"),alt:""}}),o("div",{staticClass:"login-form-text"},[t._v("小小影院 - 后台管理")])])}],a=r("c24f"),i={data(){return{loading:!1,role:"",username:"",password:"",remember:!1,usernameError:!1,passwordError:!1,roleError:!1}},methods:{postLogin(){this.loading=!0;const t={username:this.username,password:this.password,remember:this.remember};t.username.length<=5?setTimeout(()=>{this.loading=!1,this.usernameError=!0},700):(this.usernameError=!1,t.password.length<=5?setTimeout(()=>{this.loading=!1,this.passwordError=!0},700):(this.passwordError=!1,this.role?(this.roleError=!1,Object(a["b"])(this.role,t).then(t=>{t.success?setTimeout(()=>{console.log(t.data),localStorage.setItem("token",t.data.token),"worker"===this.role&&localStorage.setItem("wid",t.data.worker.id),localStorage.setItem("role",this.role),this.$router.push("/"),this.loading=!1},700):setTimeout(()=>{this.loading=!1},700)})):setTimeout(()=>{this.loading=!1,this.roleError=!0},700)))}}},l=i,n=(r("b53b"),r("2877")),c=Object(n["a"])(l,o,s,!1,null,"08f61f21",null);e["default"]=c.exports},b53b:function(t,e,r){"use strict";r("bfc0")},bfc0:function(t,e,r){},c24f:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return i}));var o=r("b775");function s(t,e){return Object(o["a"])({url:"/"+t+"/login",method:"post",data:e})}function a(){return Object(o["a"])({url:"/user",method:"get"})}function i(t){return Object(o["a"])({url:"/user",method:"put",data:t})}}}]);
//# sourceMappingURL=chunk-590758c7.587db5d5.js.map