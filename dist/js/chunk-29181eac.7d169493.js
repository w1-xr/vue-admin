(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29181eac"],{3593:function(t,e,o){},d0fa:function(t,e,o){"use strict";o.d(e,"i",(function(){return r})),o.d(e,"f",(function(){return a})),o.d(e,"b",(function(){return n})),o.d(e,"l",(function(){return s})),o.d(e,"a",(function(){return i})),o.d(e,"k",(function(){return u})),o.d(e,"h",(function(){return c})),o.d(e,"e",(function(){return d})),o.d(e,"c",(function(){return p})),o.d(e,"j",(function(){return f})),o.d(e,"d",(function(){return m})),o.d(e,"g",(function(){return b})),o.d(e,"m",(function(){return h}));var l=o("b775");function r(){return Object(l["a"])({url:"/film",method:"get"})}function a(t){return Object(l["a"])({url:"/film/"+t,method:"delete"})}function n(t){return Object(l["a"])({url:"/film",method:"post",data:t})}function s(t){return Object(l["a"])({url:"/film",method:"put",data:t})}function i(t){return Object(l["a"])({url:"/arrangement",method:"post",data:t})}function u(t){return Object(l["a"])({url:"/arrangement",method:"put",data:t})}function c(){return Object(l["a"])({url:"/arrangement",method:"get"})}function d(t){return Object(l["a"])({url:"/arrangement?id="+t,method:"delete"})}function p(t){return Object(l["a"])({url:"/poster",method:"post",data:t})}function f(){return Object(l["a"])({url:"/poster",method:"get"})}function m(){return Object(l["a"])({url:"/poster",method:"delete"})}function b(t){return Object(l["a"])({url:"/poster/"+t,method:"delete"})}function h(t){return Object(l["a"])({url:"/poster",method:"put",data:t})}},d617:function(t,e,o){"use strict";o("3593")},e4a3:function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[0!==t.posterList.length?o("el-carousel",{attrs:{height:"500px","indicator-position":"outside"}},t._l(t.posterList,(function(t,e){return o("el-carousel-item",{key:e},[o("img",{staticClass:"image",attrs:{alt:"",src:t.url}})])})),1):t._e(),o("div",{staticClass:"content"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v(" 上传轮播海报 ")]),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.deleteAllPoster}},[t._v(" 删除所有海报 ")]),o("el-table",{ref:"filterTable",staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.posterList}},[o("el-table-column",{attrs:{prop:"createAt",label:"上传时间",width:"220"}}),o("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),o("el-table-column",{attrs:{label:"地址预览"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("a",{attrs:{target:"_blank",href:e.row.url}},[t._v(t._s(e.row.url))])]}}])}),o("el-table-column",{attrs:{prop:"status",label:"上架状态",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?o("el-tag",{attrs:{type:"success","disable-transitions":""}},[t._v("上架 ")]):o("el-tag",{attrs:{type:"warning","disable-transitions":""}},[t._v("下架 ")]),e.row.status?o("el-button",{staticStyle:{padding:"0 15px",color:"#E6A23C"},attrs:{type:"text",icon:"el-icon-download"},on:{click:function(o){return t.changePosterStatus(e.$index,e.row,!1)}}},[t._v("下架 ")]):o("el-button",{staticStyle:{padding:"0 15px",color:"#67C23A"},attrs:{type:"text",icon:"el-icon-upload2"},on:{click:function(o){return t.changePosterStatus(e.$index,e.row,!0)}}},[t._v("上架 ")]),[o("el-popconfirm",{attrs:{title:"确定要删除这条内容吗？"},on:{confirm:function(o){return t.handleDeletePoster(e.$index,e.row.id)}}},[o("el-button",{staticStyle:{color:"#F56C6C"},attrs:{slot:"reference",type:"text",icon:"el-icon-delete"},slot:"reference"},[t._v("删除 ")])],1)]]}}])})],1)],1),o("el-dialog",{attrs:{title:"轮播海报",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.uploadPoster}},[o("el-form-item",{staticStyle:{"margin-bottom":"35px"},attrs:{label:"海报标题","label-width":"120px"}},[o("el-input",{staticStyle:{width:"360px"},attrs:{autocomplete:"off"},model:{value:t.uploadPoster.title,callback:function(e){t.$set(t.uploadPoster,"title",e)},expression:"uploadPoster.title"}})],1),o("el-form-item",{staticStyle:{"margin-bottom":"35px"},attrs:{label:"上架状态","label-width":"120px"}},[o("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择活动区域"},model:{value:t.uploadPoster.status,callback:function(e){t.$set(t.uploadPoster,"status",e)},expression:"uploadPoster.status"}},[o("el-option",{attrs:{label:"上架",value:"true"}}),o("el-option",{attrs:{label:"下架",value:"false"}})],1)],1),o("el-form-item",{attrs:{label:"选择图片","label-width":"120px"}},[o("el-upload",{staticClass:"upload-demo",staticStyle:{float:"left"},attrs:{accept:".png,.jpg",headers:t.header,action:t.uploadAction,"on-success":t.handleUploadSuccess,multiple:"",limit:1}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[t._v("上传轮播海报")])],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submitUpload}},[t._v("确 定")])],1)],1)],1)},r=[],a=o("db49"),n=o("d0fa"),s={mounted(){Object(n["j"])().then(t=>{this.posterList=t.data})},data(){return{header:{Authorization:localStorage.getItem("token")},dialogFormVisible:!1,uploadAction:a["a"].API_URL+"/upload",uploadPoster:{url:"",title:"",status:"",createAt:""},posterList:[]}},methods:{handleUploadSuccess(t){this.uploadPoster.url=t},submitUpload(){Object(n["c"])(this.uploadPoster).then(t=>{console.log(t),this.dialogFormVisible=!1})},deleteAllPoster(){Object(n["d"])().then(t=>{this.posterList=null})},changePosterStatus(t,e,o){e.status=o,Object(n["m"])(e).then(e=>{this.posterList[t].status=o,this.$message({message:"成功消息：操作成功",type:"success"})})},handleDeletePoster(t,e){Object(n["g"])(e).then(e=>{this.posterList.splice(t,1),this.$message({message:"成功消息：删除成功",type:"success"})})}}},i=s,u=(o("d617"),o("2877")),c=Object(u["a"])(i,l,r,!1,null,"3f699056",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-29181eac.7d169493.js.map