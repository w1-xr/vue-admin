{"version":3,"sources":["webpack:///./src/views/film/Arrange.vue?2ddc","webpack:///src/views/film/Arrange.vue","webpack:///./src/views/film/Arrange.vue?fdc0","webpack:///./src/views/film/Arrange.vue","webpack:///./src/api/user.js","webpack:///./src/api/film.js","webpack:///./src/views/film/Arrange.vue?304c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","dialog","on","$event","ref","arrangement","model","value","callback","$$v","$set","expression","staticStyle","_v","slot","submitEditArrange","directives","name","rawName","List","filter","data","search","toLowerCase","includes","scopedSlots","_u","key","fn","scope","row","type","_e","_s","price","handleBoxOffice","$index","handleEdit","handleDelete","staticRenderFns","loading","fid","seatNumber","date","startTime","endTime","founder","load","methods","then","res","setTimeout","index","success","$message","message","id","splice","$prompt","confirmButtonText","cancelButtonText","boxOffice","catch","err","component","Login","role","url","method","FindAllUser","UpdateUser","ListAllFilm","DeleteById","AddFilm","UpdateFilm","AddArrangement","UpdateArrangement","FindAllArrangement","DeleteArrangement","AddPoster","ListAllPoster","DeleteAllPoster","DeletePosterById","UpdatePoster"],"mappings":"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","file":"js/chunk-1ca5aa66.0b8d4bb6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-dialog',{attrs:{\"title\":\"新增电影排片\",\"visible\":_vm.dialog,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.arrangement,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"电影名称\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.arrangement.name),callback:function ($$v) {_vm.$set(_vm.arrangement, \"name\", $$v)},expression:\"arrangement.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"开放座位\"}},[_c('el-input-number',{attrs:{\"min\":10,\"max\":100},model:{value:(_vm.arrangement.seatNumber),callback:function ($$v) {_vm.$set(_vm.arrangement, \"seatNumber\", $$v)},expression:\"arrangement.seatNumber\"}})],1),_c('el-form-item',{attrs:{\"label\":\"放映类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择放映类型\"},model:{value:(_vm.arrangement.type),callback:function ($$v) {_vm.$set(_vm.arrangement, \"type\", $$v)},expression:\"arrangement.type\"}},[_c('el-option',{attrs:{\"label\":\"2D 放映\",\"value\":\"2D放映\"}}),_c('el-option',{attrs:{\"label\":\"3D 放映\",\"value\":\"3D放映\"}})],1)],1),_c('el-form-item',{staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"放映日期\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.arrangement.date),callback:function ($$v) {_vm.$set(_vm.arrangement, \"date\", $$v)},expression:\"arrangement.date\"}})],1)],1),_c('el-form-item',{staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"放映时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-time-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"开始时间\",\"value-format\":\"HH:mm:ss\"},model:{value:(_vm.arrangement.startTime),callback:function ($$v) {_vm.$set(_vm.arrangement, \"startTime\", $$v)},expression:\"arrangement.startTime\"}})],1),_c('el-col',{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-time-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"结束时间\",\"value-format\":\"HH:mm:ss\"},model:{value:(_vm.arrangement.endTime),callback:function ($$v) {_vm.$set(_vm.arrangement, \"endTime\", $$v)},expression:\"arrangement.endTime\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"电影票价\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":0.1,\"max\":999.99},model:{value:(_vm.arrangement.price),callback:function ($$v) {_vm.$set(_vm.arrangement, \"price\", $$v)},expression:\"arrangement.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"排片人\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.arrangement.founder),callback:function ($$v) {_vm.$set(_vm.arrangement, \"founder\", $$v)},expression:\"arrangement.founder\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitEditArrange}},[_vm._v(\"确 定\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.List.filter(function (data) { return !_vm.search || data.name.toLowerCase().includes(_vm.search.toLowerCase()); })}},[_c('el-table-column',{attrs:{\"label\":\"电影名\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"放映日期\",\"prop\":\"date\"}}),_c('el-table-column',{attrs:{\"label\":\"开放座位\",\"prop\":\"seatNumber\"}}),_c('el-table-column',{attrs:{\"label\":\"放映类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === '2D放映')?_c('el-tag',{attrs:{\"effect\":\"dark\",\"type\":\"success\",\"disable-transitions\":\"\"}},[_vm._v(\"2D 放映\")]):_vm._e(),(scope.row.type === '3D放映')?_c('el-tag',{attrs:{\"effect\":\"dark\",\"type\":\"primary\",\"disable-transitions\":\"\"}},[_vm._v(\"3D 放映\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"票房统计\",\"prop\":\"boxOffice\"}}),_c('el-table-column',{attrs:{\"label\":\"结束时间\",\"prop\":\"endTime\"}}),_c('el-table-column',{attrs:{\"label\":\"本场票价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\",\"effect\":\"plain\"}},[_vm._v(_vm._s(scope.row.price)+\" 元\")])]}}])}),_c('el-table-column',{attrs:{\"width\":\"300\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"输入关键字搜索\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})]}},{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-s-ticket\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleBoxOffice(scope.$index, scope.row)}}},[_vm._v(\"统计票房 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-edit\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"修改 \")]),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"不用了\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\" 确定要删除此电影档期吗？ \"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_c('el-button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除 \")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main\">\n\n    <el-dialog\n        title=\"新增电影排片\"\n        :visible.sync=\"dialog\"\n        width=\"50%\">\n\n      <el-form ref=\"form\" :model=\"arrangement\" label-width=\"80px\">\n\n        <el-form-item label=\"电影名称\">\n          <el-input :disabled=\"true\" v-model=\"arrangement.name\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"开放座位\">\n          <el-input-number v-model=\"arrangement.seatNumber\" :min=\"10\" :max=\"100\"></el-input-number>\n        </el-form-item>\n\n        <el-form-item label=\"放映类型\">\n          <el-select v-model=\"arrangement.type\" placeholder=\"请选择放映类型\">\n            <el-option label=\"2D 放映\" value=\"2D放映\"></el-option>\n            <el-option label=\"3D 放映\" value=\"3D放映\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item style=\"width: 500px\" label=\"放映日期\">\n          <el-col :span=\"11\">\n            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"arrangement.date\"\n                            value-format=\"yyyy-MM-dd\" style=\"width: 100%;\"></el-date-picker>\n          </el-col>\n        </el-form-item>\n\n        <el-form-item style=\"width: 500px\" label=\"放映时间\">\n          <el-col :span=\"11\">\n            <el-time-picker placeholder=\"开始时间\" value-format=\"HH:mm:ss\" v-model=\"arrangement.startTime\"\n                            style=\"width: 100%;\"></el-time-picker>\n          </el-col>\n          <el-col style=\"text-align: center\" class=\"line\" :span=\"2\">-</el-col>\n          <el-col :span=\"11\">\n            <el-time-picker placeholder=\"结束时间\" value-format=\"HH:mm:ss\" v-model=\"arrangement.endTime\"\n                            style=\"width: 100%;\"></el-time-picker>\n          </el-col>\n        </el-form-item>\n\n        <el-form-item label=\"电影票价\">\n          <el-input-number v-model=\"arrangement.price\" :precision=\"2\" :step=\"0.1\" :max=\"999.99\"></el-input-number>\n        </el-form-item>\n\n        <el-form-item label=\"排片人\">\n          <el-input type=\"textarea\" v-model=\"arrangement.founder\"></el-input>\n        </el-form-item>\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialog = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitEditArrange\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <el-table\n        v-loading=\"loading\"\n        :data=\"List.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))\"\n        style=\"width: 100%\">\n\n      <el-table-column\n          label=\"电影名\"\n          prop=\"name\">\n      </el-table-column>\n\n      <el-table-column\n          label=\"放映日期\"\n          prop=\"date\">\n      </el-table-column>\n\n      <el-table-column\n          label=\"开放座位\"\n          prop=\"seatNumber\">\n      </el-table-column>\n\n      <el-table-column label=\"放映类型\">\n        <template slot-scope=\"scope\">\n          <el-tag effect=\"dark\" v-if=\"scope.row.type === '2D放映'\" type=\"success\" disable-transitions>2D 放映</el-tag>\n          <el-tag effect=\"dark\" v-if=\"scope.row.type === '3D放映'\" type=\"primary\" disable-transitions>3D 放映</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n          label=\"票房统计\"\n          prop=\"boxOffice\">\n      </el-table-column>\n\n      <el-table-column\n          label=\"结束时间\"\n          prop=\"endTime\">\n      </el-table-column>\n\n      <el-table-column label=\"本场票价\">\n        <template slot-scope=\"scope\">\n          <el-tag size=\"medium\" effect=\"plain\">{{ scope.row.price }} 元</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column width=\"300\" align=\"right\">\n        <template slot=\"header\" slot-scope=\"scope\">\n          <el-input\n              v-model=\"search\"\n              size=\"mini\"\n              placeholder=\"输入关键字搜索\"/>\n        </template>\n        <template style=\"white-space: nowrap\" slot-scope=\"scope\">\n          <el-button\n              size=\"mini\"\n              icon=\"el-icon-s-ticket\"\n              type=\"success\"\n              @click=\"handleBoxOffice(scope.$index, scope.row)\">统计票房\n          </el-button>\n          <el-button\n              size=\"mini\"\n              icon=\"el-icon-edit\"\n              type=\"primary\"\n              @click=\"handleEdit(scope.$index, scope.row)\">修改\n          </el-button>\n\n          <el-popconfirm\n              confirm-button-text='确定'\n              cancel-button-text='不用了'\n              icon=\"el-icon-info\"\n              icon-color=\"red\"\n              @confirm=\"handleDelete(scope.$index, scope.row)\"\n              title=\" 确定要删除此电影档期吗？ \"\n          >\n            <el-button\n                style=\"margin-left: 8px\"\n                size=\"mini\"\n                icon=\"el-icon-delete\"\n                type=\"danger\"\n                slot=\"reference\">删除\n            </el-button>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n\n    </el-table>\n\n  </div>\n</template>\n\n<script>\nimport {FindAllArrangement, DeleteArrangement, UpdateArrangement} from \"@/api/film\";\nimport {UpdateUser} from \"@/api/user\";\n\nexport default {\n  name: \"Arrange\",\n  data() {\n    return {\n      dialog: false,\n      search: '',\n      List: [],\n      loading: false,\n      arrangement: {\n        name: '',\n        fid: '',\n        seatNumber: 40,\n        price: 30.50,\n        date: '',\n        startTime: '',\n        endTime: '',\n        founder: '',\n        type: '2D放映',\n      },\n    }\n  },\n\n  mounted() {\n    this.load()\n  },\n\n  methods: {\n\n    load() {\n      this.loading = true;\n      FindAllArrangement().then(res => {\n        setTimeout(() => {\n          this.loading = false;\n          this.List = res.data\n        }, 700)\n      })\n    },\n\n\n    handleEdit(index, row) {\n      this.dialog = true;\n      this.arrangement = row;\n    },\n\n    submitEditArrange() {\n      UpdateArrangement(this.arrangement).then(res => {\n        if (res.success) {\n          this.dialog = false;\n          this.$message({\n            message: '排片添加成功！',\n            type: 'success'\n          });\n        }\n      })\n    },\n\n    handleDelete(index, row) {\n      DeleteArrangement(row.id).then(res => {\n        this.List.splice(index, 1)\n        this.$message({\n          message: '排片信息删除成功！',\n          type: 'success'\n        });\n      })\n    },\n\n    handleBoxOffice(index, row) {\n      this.$prompt('请输入此场次的票房', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({value}) => {\n        if (!value) {\n          this.$message({\n            type: 'warning',\n            message: '输入不能为空'\n          });\n          return\n        }\n        if (value < 0) {\n          this.$message({\n            type: 'warning',\n            message: '请输入不少于0的数字'\n          });\n          return\n        }\n        this.List[index].boxOffice = value\n        UpdateArrangement(this.List[index]).then(res => {\n          this.$message({\n            message: '票房统计成功',\n            type: 'success',\n          });\n        })\n      }).catch(err => {\n        this.$message({\n          type: 'warning',\n          message: err\n        });\n      });\n    },\n\n  }\n\n}\n</script>\n\n<style scoped>\n.main {\n  padding: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Arrange.vue?vue&type=template&id=f3c26028&scoped=true&\"\nimport script from \"./Arrange.vue?vue&type=script&lang=js&\"\nexport * from \"./Arrange.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Arrange.vue?vue&type=style&index=0&id=f3c26028&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3c26028\",\n  null\n  \n)\n\nexport default component.exports","import service from \"../utils/request\";\n\nexport function Login(role, data) {\n    return service({\n        url: '/' + role + '/login',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function FindAllUser() {\n    return service({\n        url: \"/user\",\n        method: \"get\"\n    })\n}\n\nexport function UpdateUser(data) {\n    return service({\n        url: \"/user\",\n        method: \"put\",\n        data: data\n    })\n}\n","import service from \"../utils/request\";\n\nexport function ListAllFilm() {\n    return service({\n        url: '/film',\n        method: 'get'\n    })\n}\n\nexport function DeleteById(id){\n    return service({\n        url: '/film/' + id,\n        method: 'delete'\n    })\n}\n\nexport function AddFilm(data){\n    return service({\n        url: '/film',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function UpdateFilm(data){\n    return service({\n        url: '/film',\n        method: 'put',\n        data: data\n    })\n}\n\nexport function AddArrangement(data){\n    return service({\n        url: '/arrangement',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function UpdateArrangement(data){\n    return service({\n        url: '/arrangement',\n        method: 'put',\n        data: data\n    })\n}\n\nexport function FindAllArrangement(){\n    return service({\n        url: '/arrangement',\n        method: 'get'\n    })\n}\n\nexport function DeleteArrangement(id){\n    return service({\n        url: '/arrangement?id=' + id,\n        method: 'delete'\n    })\n}\n\nexport function AddPoster(data){\n    return service({\n        url: '/poster',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function ListAllPoster(){\n    return service({\n        url: \"/poster\",\n        method: \"get\"\n    })\n}\n\nexport function DeleteAllPoster(){\n    return service({\n        url: \"/poster\",\n        method: \"delete\"\n    })\n}\n\nexport function DeletePosterById(id){\n    return service({\n        url: \"/poster/\" + id,\n        method: \"delete\"\n    })\n}\n\nexport function UpdatePoster(data){\n    return service({\n        url: \"/poster\",\n        method: \"put\",\n        data: data\n    })\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrange.vue?vue&type=style&index=0&id=f3c26028&scoped=true&lang=css&\""],"sourceRoot":""}