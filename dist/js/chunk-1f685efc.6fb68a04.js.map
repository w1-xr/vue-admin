{"version":3,"sources":["webpack:///./src/views/worker/List.vue?4e2d","webpack:///./src/views/worker/List.vue?b14a","webpack:///src/views/worker/List.vue","webpack:///./src/views/worker/List.vue?9c07","webpack:///./src/views/worker/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","workerList","scopedSlots","_u","key","fn","props","_v","_s","row","username","nickname","on","$event","openUpdatePassword","phone","gender","department","changeEntry","$index","updateAt","avatar","entry","handleListRole","handleAddRole","handleDeleteWork","id","scope","roleDialogVisible","directives","name","rawName","value","expression","roleList","handleDeleteRole","slot","dialogFormVisible","addRoleForm","model","callback","$$v","$set","_l","item","index","submitAddRole","staticRenderFns","loading","wid","systemRoles","then","res","data","methods","worker","$prompt","confirmButtonText","cancelButtonText","length","$message","message","type","password","catch","$confirm","splice","setTimeout","success","component"],"mappings":"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","file":"js/chunk-1f685efc.6fb68a04.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=d12f6f68&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.workerList}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('span',[_vm._v(_vm._s(props.row.username))])]),_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('span',[_vm._v(_vm._s(props.row.nickname))])]),_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openUpdatePassword(props.row)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"编辑密码 \")])],1),_c('el-form-item',{attrs:{\"label\":\"联系电话\"}},[_c('span',[_vm._v(_vm._s(props.row.phone))])]),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('span',[_vm._v(_vm._s(props.row.gender))])]),_c('el-form-item',{attrs:{\"label\":\"入职部门\"}},[_c('span',[_vm._v(_vm._s(props.row.department))])]),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[(props.row.entry)?_c('span',[_vm._v(\"在职 \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.changeEntry(props.$index, props.row)}}},[_vm._v(\"员工已离职？\")])],1):_c('span',{staticStyle:{\"color\":\"#f56c6c\"}},[_vm._v(\"离职\")])]),_c('el-form-item',{attrs:{\"label\":\"更新时间\"}},[_c('span',[_vm._v(_vm._s(props.row.updateAt))])]),_c('el-form-item',{attrs:{\"label\":\"员工头像\"}},[(props.row.avatar)?_c('a',{attrs:{\"target\":\"_blank\",\"href\":props.row.avatar}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\"查看 \")]):_c('span',[_vm._v(\"他还没有上传头像\")])]),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":!props.row.entry,\"type\":\"info\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleListRole(props.row)}}},[_vm._v(\"查看权限 \")]),_c('el-button',{attrs:{\"disabled\":!props.row.entry,\"type\":\"primary\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleAddRole(props.row)}}},[_vm._v(\"添加权限 \")]),_c('el-button',{attrs:{\"disabled\":props.row.entry,\"size\":\"small\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleDeleteWork(props.$index, props.row.id)}}},[_vm._v(\"删除员工 \")])],1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"员工 ID\",\"width\":\"430\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"width\":\"200\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"所在部门\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(scope.row.department))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"联系电话\",\"width\":\"240\",\"prop\":\"phone\"}}),_c('el-table-column',{attrs:{\"label\":\"入职时间\",\"prop\":\"createAt\"}})],1),_c('el-dialog',{attrs:{\"title\":\"员工权限\",\"visible\":_vm.roleDialogVisible},on:{\"update:visible\":function($event){_vm.roleDialogVisible=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.roleList}},[_c('el-table-column',{attrs:{\"property\":\"value\",\"label\":\"权限\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"property\":\"createAt\",\"label\":\"创建时间\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{attrs:{\"title\":'确定删除权限 < ' + scope.row.value +' > 吗？'},on:{\"confirm\":function($event){return _vm.handleDeleteRole(scope.$index, scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"plain\":\"\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"width\":\"450px\",\"title\":\"新增权限\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.addRoleForm}},[_c('el-form-item',{attrs:{\"label\":\"权限列表\",\"label-width\":\"120px\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择新增的权限\"},model:{value:(_vm.addRoleForm.value),callback:function ($$v) {_vm.$set(_vm.addRoleForm, \"value\", $$v)},expression:\"addRoleForm.value\"}},_vm._l((_vm.systemRoles),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitAddRole}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main\">\n\n    <el-table\n        :data=\"workerList\"\n        style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"用户名\">\n              <span>{{ props.row.username }}</span>\n            </el-form-item>\n            <el-form-item label=\"昵称\">\n              <span>{{ props.row.nickname }}</span>\n            </el-form-item>\n            <el-form-item label=\"密码\">\n              <el-button type=\"text\" @click=\"openUpdatePassword(props.row)\">\n                <i class=\"el-icon-edit\"></i>编辑密码\n              </el-button>\n            </el-form-item>\n            <el-form-item label=\"联系电话\">\n              <span>{{ props.row.phone }}</span>\n            </el-form-item>\n            <el-form-item label=\"性别\">\n              <span>{{ props.row.gender }}</span>\n            </el-form-item>\n            <el-form-item label=\"入职部门\">\n              <span>{{ props.row.department }}</span>\n            </el-form-item>\n            <el-form-item label=\"状态\">\n              <span v-if=\"props.row.entry\">在职\n              <el-button @click=\"changeEntry(props.$index, props.row)\" type=\"text\">员工已离职？</el-button></span>\n              <span style=\"color: #f56c6c\" v-else>离职</span>\n            </el-form-item>\n            <el-form-item label=\"更新时间\">\n              <span>{{ props.row.updateAt }}</span>\n            </el-form-item>\n            <el-form-item label=\"员工头像\">\n              <a v-if=\"props.row.avatar\" target=\"_blank\" :href=\"props.row.avatar\">\n                <i class=\"el-icon-view\"></i>查看\n              </a>\n              <span v-else>他还没有上传头像</span>\n            </el-form-item>\n            <el-form-item>\n              <el-button :disabled=\"!props.row.entry\"\n                         @click=\"handleListRole(props.row)\"\n                         type=\"info\"\n                         size=\"small\"\n                         plain>查看权限\n              </el-button>\n              <el-button :disabled=\"!props.row.entry\"\n                         type=\"primary\"\n                         @click=\"handleAddRole(props.row)\"\n                         size=\"small\"\n                         plain>添加权限\n              </el-button>\n              <el-button :disabled=\"props.row.entry\"\n                         @click=\"handleDeleteWork(props.$index, props.row.id)\"\n                         size=\"small\"\n                         type=\"danger\"\n                         plain>删除员工\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n          label=\"员工 ID\"\n          width=\"430\"\n          prop=\"id\">\n      </el-table-column>\n      <el-table-column\n          label=\"用户名\"\n          width=\"200\"\n          prop=\"username\">\n      </el-table-column>\n      <el-table-column\n          label=\"所在部门\"\n          width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-tag>{{ scope.row.department }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n          label=\"联系电话\"\n          width=\"240\"\n          prop=\"phone\">\n      </el-table-column>\n      <el-table-column\n          label=\"入职时间\"\n          prop=\"createAt\">\n      </el-table-column>\n\n    </el-table>\n\n    <el-dialog title=\"员工权限\" :visible.sync=\"roleDialogVisible\">\n      <el-table v-loading=\"loading\" :data=\"roleList\">\n        <el-table-column property=\"value\" label=\"权限\" width=\"300\"></el-table-column>\n        <el-table-column property=\"createAt\" label=\"创建时间\" width=\"300\"></el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-popconfirm\n                @confirm=\"handleDeleteRole(scope.$index, scope.row.id)\"\n                :title=\"'确定删除权限 < ' + scope.row.value +' > 吗？'\"\n            >\n              <el-button slot=\"reference\" size=\"small\" type=\"danger\" icon=\"el-icon-delete\" plain>删除</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-dialog>\n\n    <el-dialog width=\"450px\" title=\"新增权限\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"addRoleForm\">\n        <el-form-item label=\"权限列表\" label-width=\"120px\">\n          <el-select v-model=\"addRoleForm.value\" placeholder=\"请选择新增的权限\">\n            <el-option v-for=\"(item, index) in systemRoles\"\n                       :key=\"index\"\n                       :label=\"item\"\n                       :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitAddRole\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {\n  CreateWorkerRole,\n  DeleteRoleByWorkerId,\n  DeleteWorker,\n  FindAllWorker,\n  FindWorkerRoles,\n  ListSystemRoles,\n  UpdateWorker\n} from \"@/api/worker\";\n\nexport default {\n\n\n  data() {\n    return {\n      loading: false,\n      addRoleForm: {\n        wid: '',\n        value: '',\n      },\n      workerList: [],\n      systemRoles: [],\n      roleDialogVisible: false,\n      roleList: [],\n      dialogFormVisible: false,\n    }\n  },\n\n  mounted() {\n    FindAllWorker().then(res => {\n      this.workerList = res.data\n    })\n    ListSystemRoles().then(res => {\n      this.systemRoles = res.data\n    })\n  },\n\n  methods: {\n\n    openUpdatePassword(worker) {\n      this.$prompt('请输入新的密码', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({value}) => {\n        if (!value) {\n          this.$message({\n            message: '密码不能为空',\n            type: 'danger',\n          });\n          return\n        }\n        if (value.length < 6) {\n          this.$message({\n            message: '请输入不少于6位的密码',\n            type: 'danger',\n          });\n          return\n        }\n        worker.password = value\n        UpdateWorker(worker).then(res => {\n          this.$message({\n            message: '账号密码修改成功',\n            type: 'success',\n          });\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消修改'\n        });\n      });\n    },\n\n    changeEntry(index, worker) {\n      this.$confirm('此操作将该员工状态永久修改为离职, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        worker.entry = false\n        UpdateWorker(worker).then(res => {\n          this.$message({\n            type: 'success',\n            message: '员工离职成功!'\n          });\n        })\n      })\n    },\n\n    handleDeleteWork(index, id) {\n      DeleteWorker(id).then(res => {\n        this.workerList.splice(index, 1)\n        this.$message({\n          type: 'success',\n          message: '员工信息删除成功!'\n        });\n      })\n    },\n\n    handleListRole(worker) {\n      this.roleDialogVisible = true;\n      this.loading = true;\n      FindWorkerRoles(worker.id).then(res => {\n        setTimeout(() => {\n          this.roleList = res.data\n          this.loading = false;\n        }, 700)\n      })\n    },\n\n    handleDeleteRole(index, id) {\n      DeleteRoleByWorkerId(id).then(res => {\n        if (res.success === true) {\n          this.roleList.splice(index, 1)\n          this.$message({\n            type: 'success',\n            message: '员工权限删除成功!'\n          });\n        }\n      })\n    },\n\n    handleAddRole(worker) {\n      this.dialogFormVisible = true;\n      this.addRoleForm.wid = worker.id;\n    },\n\n    submitAddRole() {\n      CreateWorkerRole(this.addRoleForm).then(res => {\n        if (res.success) {\n          this.dialogFormVisible = false;\n          this.addRoleForm.wid = '';\n          this.addRoleForm.value = '';\n          this.$message({\n            type: 'success',\n            message: '员工权限添加成功!'\n          });\n        }\n      })\n    },\n\n  },\n\n}\n</script>\n\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=d12f6f68&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=d12f6f68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d12f6f68\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}