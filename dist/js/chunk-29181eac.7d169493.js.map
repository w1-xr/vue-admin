{"version":3,"sources":["webpack:///./src/api/film.js","webpack:///./src/views/film/Poster.vue?ad57","webpack:///./src/views/film/Poster.vue?4e14","webpack:///src/views/film/Poster.vue","webpack:///./src/views/film/Poster.vue?4196","webpack:///./src/views/film/Poster.vue"],"names":["ListAllFilm","url","method","DeleteById","id","AddFilm","data","UpdateFilm","AddArrangement","UpdateArrangement","FindAllArrangement","DeleteArrangement","AddPoster","ListAllPoster","DeleteAllPoster","DeletePosterById","UpdatePoster","render","_vm","this","_h","$createElement","_c","_self","posterList","length","attrs","_l","item","index","key","staticClass","_e","on","$event","dialogFormVisible","_v","staticStyle","deleteAllPoster","ref","scopedSlots","_u","fn","scope","row","_s","status","changePosterStatus","$index","handleDeletePoster","slot","uploadPoster","model","value","callback","$$v","$set","expression","header","uploadAction","handleUploadSuccess","submitUpload","staticRenderFns","then","res","localStorage","getItem","config","API_URL","title","createAt","methods","console","log","poster","$message","message","type","splice","component"],"mappings":"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","file":"js/chunk-29181eac.7d169493.js","sourcesContent":["import service from \"../utils/request\";\n\nexport function ListAllFilm() {\n    return service({\n        url: '/film',\n        method: 'get'\n    })\n}\n\nexport function DeleteById(id){\n    return service({\n        url: '/film/' + id,\n        method: 'delete'\n    })\n}\n\nexport function AddFilm(data){\n    return service({\n        url: '/film',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function UpdateFilm(data){\n    return service({\n        url: '/film',\n        method: 'put',\n        data: data\n    })\n}\n\nexport function AddArrangement(data){\n    return service({\n        url: '/arrangement',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function UpdateArrangement(data){\n    return service({\n        url: '/arrangement',\n        method: 'put',\n        data: data\n    })\n}\n\nexport function FindAllArrangement(){\n    return service({\n        url: '/arrangement',\n        method: 'get'\n    })\n}\n\nexport function DeleteArrangement(id){\n    return service({\n        url: '/arrangement?id=' + id,\n        method: 'delete'\n    })\n}\n\nexport function AddPoster(data){\n    return service({\n        url: '/poster',\n        method: 'post',\n        data: data\n    })\n}\n\nexport function ListAllPoster(){\n    return service({\n        url: \"/poster\",\n        method: \"get\"\n    })\n}\n\nexport function DeleteAllPoster(){\n    return service({\n        url: \"/poster\",\n        method: \"delete\"\n    })\n}\n\nexport function DeletePosterById(id){\n    return service({\n        url: \"/poster/\" + id,\n        method: \"delete\"\n    })\n}\n\nexport function UpdatePoster(data){\n    return service({\n        url: \"/poster\",\n        method: \"put\",\n        data: data\n    })\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Poster.vue?vue&type=style&index=0&id=3f699056&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.posterList.length !== 0)?_c('el-carousel',{attrs:{\"height\":\"500px\",\"indicator-position\":\"outside\"}},_vm._l((_vm.posterList),function(item,index){return _c('el-carousel-item',{key:index},[_c('img',{staticClass:\"image\",attrs:{\"alt\":\"\",\"src\":item.url}})])}),1):_vm._e(),_c('div',{staticClass:\"content\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-upload\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\" 上传轮播海报 \")]),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.deleteAllPoster}},[_vm._v(\" 删除所有海报 \")]),_c('el-table',{ref:\"filterTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"15px\"},attrs:{\"data\":_vm.posterList}},[_c('el-table-column',{attrs:{\"prop\":\"createAt\",\"label\":\"上传时间\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"地址预览\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"target\":\"_blank\",\"href\":scope.row.url}},[_vm._v(_vm._s(scope.row.url))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"上架状态\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status)?_c('el-tag',{attrs:{\"type\":\"success\",\"disable-transitions\":\"\"}},[_vm._v(\"上架 \")]):_c('el-tag',{attrs:{\"type\":\"warning\",\"disable-transitions\":\"\"}},[_vm._v(\"下架 \")]),(!scope.row.status)?_c('el-button',{staticStyle:{\"padding\":\"0 15px\",\"color\":\"#67C23A\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-upload2\"},on:{\"click\":function($event){return _vm.changePosterStatus(scope.$index, scope.row, true)}}},[_vm._v(\"上架 \")]):_c('el-button',{staticStyle:{\"padding\":\"0 15px\",\"color\":\"#E6A23C\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.changePosterStatus(scope.$index, scope.row, false)}}},[_vm._v(\"下架 \")]),[_c('el-popconfirm',{attrs:{\"title\":\"确定要删除这条内容吗？\"},on:{\"confirm\":function($event){return _vm.handleDeletePoster(scope.$index, scope.row.id)}}},[_c('el-button',{staticStyle:{\"color\":\"#F56C6C\"},attrs:{\"slot\":\"reference\",\"type\":\"text\",\"icon\":\"el-icon-delete\"},slot:\"reference\"},[_vm._v(\"删除 \")])],1)]]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"轮播海报\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.uploadPoster}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"35px\"},attrs:{\"label\":\"海报标题\",\"label-width\":\"120px\"}},[_c('el-input',{staticStyle:{\"width\":\"360px\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.uploadPoster.title),callback:function ($$v) {_vm.$set(_vm.uploadPoster, \"title\", $$v)},expression:\"uploadPoster.title\"}})],1),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"35px\"},attrs:{\"label\":\"上架状态\",\"label-width\":\"120px\"}},[_c('el-select',{staticStyle:{\"width\":\"360px\"},attrs:{\"placeholder\":\"请选择活动区域\"},model:{value:(_vm.uploadPoster.status),callback:function ($$v) {_vm.$set(_vm.uploadPoster, \"status\", $$v)},expression:\"uploadPoster.status\"}},[_c('el-option',{attrs:{\"label\":\"上架\",\"value\":\"true\"}}),_c('el-option',{attrs:{\"label\":\"下架\",\"value\":\"false\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"选择图片\",\"label-width\":\"120px\"}},[_c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"float\":\"left\"},attrs:{\"accept\":\".png,.jpg\",\"headers\":_vm.header,\"action\":_vm.uploadAction,\"on-success\":_vm.handleUploadSuccess,\"multiple\":\"\",\"limit\":1}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-upload\"}},[_vm._v(\"上传轮播海报\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-carousel v-if=\"posterList.length !== 0\" height=\"500px\" indicator-position=\"outside\">\n      <el-carousel-item v-for=\"(item, index) in posterList\" :key=\"index\">\n        <img alt=\"\"\n             :src=\"item.url\"\n             class=\"image\">\n      </el-carousel-item>\n    </el-carousel>\n\n    <div class=\"content\">\n      <el-button\n          @click=\"dialogFormVisible = true\"\n          type=\"primary\"\n          icon=\"el-icon-upload\">\n        上传轮播海报\n      </el-button>\n      <el-button\n          style=\"margin-left: 10px\"\n          type=\"danger\"\n          icon=\"el-icon-delete\"\n          @click=\"deleteAllPoster\">\n        删除所有海报\n      </el-button>\n      <el-table\n          ref=\"filterTable\"\n          :data=\"posterList\"\n          style=\"width: 100%;margin-top: 15px;\">\n        <el-table-column\n            prop=\"createAt\"\n            label=\"上传时间\"\n            width=\"220\"\n        >\n        </el-table-column>\n        <el-table-column\n            prop=\"title\"\n            label=\"标题\"\n            width=\"180\">\n        </el-table-column>\n        <el-table-column label=\"地址预览\">\n          <template slot-scope=\"scope\">\n            <a target=\"_blank\" :href=\"scope.row.url\">{{ scope.row.url }}</a>\n          </template>\n        </el-table-column>\n        <el-table-column\n            prop=\"status\"\n            label=\"上架状态\"\n            width=\"220\">\n          <template slot-scope=\"scope\">\n            <el-tag\n                v-if=\"scope.row.status\"\n                type=\"success\"\n                disable-transitions>上架\n            </el-tag>\n            <el-tag\n                v-else\n                type=\"warning\"\n                disable-transitions>下架\n            </el-tag>\n            <el-button v-if=\"!scope.row.status\"\n                       style=\"padding: 0 15px;color: #67C23A\"\n                       type=\"text\"\n                       @click=\"changePosterStatus(scope.$index, scope.row, true)\"\n                       icon=\"el-icon-upload2\">上架\n            </el-button>\n            <el-button v-else\n                       style=\"padding: 0 15px;color: #E6A23C\"\n                       type=\"text\"\n                       @click=\"changePosterStatus(scope.$index, scope.row, false)\"\n                       icon=\"el-icon-download\">下架\n            </el-button>\n            <template style=\"padding-left: 100px\">\n              <el-popconfirm @confirm=\"handleDeletePoster(scope.$index, scope.row.id)\" title=\"确定要删除这条内容吗？\">\n                <el-button slot=\"reference\"\n                           style=\"color: #F56C6C\" type=\"text\"\n                           icon=\"el-icon-delete\">删除\n                </el-button>\n              </el-popconfirm>\n            </template>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <el-dialog title=\"轮播海报\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"uploadPoster\">\n        <el-form-item label=\"海报标题\" style=\"margin-bottom: 35px\" label-width=\"120px\">\n          <el-input style=\"width: 360px\" v-model=\"uploadPoster.title\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"上架状态\" style=\"margin-bottom: 35px\" label-width=\"120px\">\n          <el-select style=\"width: 360px\" v-model=\"uploadPoster.status\" placeholder=\"请选择活动区域\">\n            <el-option label=\"上架\" value=\"true\"></el-option>\n            <el-option label=\"下架\" value=\"false\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"选择图片\" label-width=\"120px\">\n          <el-upload\n              style=\"float: left\"\n              class=\"upload-demo\"\n              accept=\".png,.jpg\"\n              :headers=\"header\"\n              :action=\"uploadAction\"\n              :on-success=\"handleUploadSuccess\"\n              multiple\n              :limit=\"1\">\n            <el-button type=\"primary\" icon=\"el-icon-upload\">上传轮播海报</el-button>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitUpload\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport config from \"@/config\";\nimport {AddPoster, DeleteAllPoster, DeletePosterById, ListAllPoster, UpdatePoster} from \"@/api/film\";\n\nexport default {\n\n  mounted() {\n    ListAllPoster().then(res => {\n      this.posterList = res.data\n    })\n  },\n\n  data() {\n    return {\n      header: {\n        \"Authorization\": localStorage.getItem(\"token\")\n      },\n      dialogFormVisible: false,\n      uploadAction: config.API_URL + '/upload',\n      uploadPoster: {\n        url: '',\n        title: '',\n        status: '',\n        createAt: '',\n      },\n      posterList: [],\n    }\n  },\n\n  methods: {\n\n    handleUploadSuccess(res) {\n      this.uploadPoster.url = res\n    },\n\n    submitUpload() {\n      AddPoster(this.uploadPoster).then(res => {\n        console.log(res)\n        this.dialogFormVisible = false;\n      })\n    },\n\n    deleteAllPoster() {\n      DeleteAllPoster().then(res => {\n        this.posterList = null;\n      })\n    },\n\n    changePosterStatus(index, poster, status) {\n      poster.status = status\n      UpdatePoster(poster).then(res => {\n        this.posterList[index].status = status\n        this.$message({\n          message: '成功消息：操作成功',\n          type: 'success'\n        });\n      })\n    },\n\n    handleDeletePoster(index, id) {\n      DeletePosterById(id).then(res => {\n        this.posterList.splice(index, 1);\n        this.$message({\n          message: '成功消息：删除成功',\n          type: 'success'\n        });\n      })\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n\n.content {\n  padding: 20px 40px;\n}\n\n.el-carousel__item h3 {\n  color: #475669;\n  font-size: 18px;\n  opacity: 0.75;\n  line-height: 300px;\n  margin: 0;\n}\n\n.image {\n  width: 100%;\n  height: 500px;\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Poster.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Poster.vue?vue&type=template&id=3f699056&scoped=true&\"\nimport script from \"./Poster.vue?vue&type=script&lang=js&\"\nexport * from \"./Poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Poster.vue?vue&type=style&index=0&id=3f699056&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f699056\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}